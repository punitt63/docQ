{
  "openapi": "3.0.2",
  "info": {
    "title": "User Initiated Linking Service",
    "version": "3.0"
  },
  "servers": [
    {
      "url": "https://dev.abdm.gov.in",
      "description": "Sandbox Server URL"
    },
    {
      "url": "https://apis.abdm.gov.in",
      "description": "Production Server URL"
    }
  ],
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer"
      },
      "apikeyAuth": {
        "type": "http",
        "scheme": "apikey"
      },
      "noauthAuth": {
        "type": "http",
        "scheme": "noauth"
      },
      "basicAuth": {
        "type": "http",
        "scheme": "basic"
      }
    }
  },
  "paths": {
    "<callback_url>/api/v3/hip/patient/care-context/discover": {
      "post": {
        "tags": [
          "abdm-user-initiated-linking-hip"
        ],
        "operationId": "abdm-user-initiated-linking 1",
        "summary": "This API endpoint is used to discover care contexts associated with a patient. It allows healthcare information providers (HIPs) to retrieve and manage patient care context information.",
        "description": "The discover API endpoint facilitates the discovery of care contexts linked to a specific patient. When a request is made to this endpoint, it returns detailed information about the patient, including verified and unverified identifiers, ensuring accurate patient identification and continuity of care.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "REQUEST-ID",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "18235d89-cb13-479d-ad71-7a57d5f669a8",
            "description": "Unique UUID for track the end to end request transaction"
          },
          {
            "name": "TIMESTAMP",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "2022-10-06T15:10:00.587Z",
            "description": "Actual time of the request was initiated, ISO 8601 represents date and time by starting with the year, followed by the month, the day, the hour, the minutes, seconds and milliseconds."
          },
          {
            "name": "X-HIP-ID",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "IN2810014366",
            "description": "Identifier of the health information provider to which the request was intended"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "transactionId",
                  "patient"
                ],
                "properties": {
                  "transactionId": {
                    "type": "string",
                    "format": "uuid",
                    "nullable": true,
                    "example": "f901b782-bfdf-4224-9f8d-da2cadc20c0d",
                    "description": "UUID"
                  },
                  "patient": {
                    "type": "object",
                    "nullable": false,
                    "required": [
                      "id",
                      "verifiedIdentifiers",
                      "name",
                      "gender",
                      "yearOfBirth"
                    ],
                    "properties": {
                      "id": {
                        "type": "string",
                        "nullable": false,
                        "example": "abc@abdm",
                        "description": "A patient identifier with which patient is registered in the facility/hospital"
                      },
                      "verifiedIdentifiers": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "required": [
                            "type",
                            "value"
                          ],
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "MR",
                                "MOBILE",
                                "ABHA_NUMBER",
                                "ABHA_ADDRESS",
                                "EMAIL"
                              ],
                              "nullable": false,
                              "example": "MR"
                            },
                            "value": {
                              "type": "string",
                              "nullable": false,
                              "example": "+919876543210",
                              "description": "Allows alphanumeric characters and special characters like \"^(\\\\+)?[a-zA-Z0-9_\\\\-@,. ]{0,255}$\"."
                            }
                          }
                        }
                      },
                      "unverifiedIdentifiers": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "required": [
                            "type",
                            "value"
                          ],
                          "properties": {
                            "type": {
                              "type": "string",
                              "enum": [
                                "MR",
                                "MOBILE",
                                "ABHA_NUMBER",
                                "ABHA_ADDRESS",
                                "EMAIL"
                              ],
                              "nullable": false,
                              "example": "MOBILE"
                            },
                            "value": {
                              "type": "string",
                              "nullable": false,
                              "example": "+9198765*****",
                              "description": "Allows alphanumeric characters and special characters like \"^(\\\\+)?[a-zA-Z0-9_\\\\-@,. ]{0,255}$\"."
                            }
                          }
                        }
                      },
                      "name": {
                        "type": "string",
                        "nullable": false,
                        "example": "Abdul Kalam"
                      },
                      "gender": {
                        "type": "string",
                        "enum": [
                          "M",
                          "F",
                          "O",
                          "D",
                          "T",
                          "U"
                        ],
                        "nullable": false,
                        "example": "M"
                      },
                      "yearOfBirth": {
                        "type": "number",
                        "nullable": false,
                        "example": 9999
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Accepted"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "object",
                      "required": [
                        "code",
                        "message"
                      ],
                      "properties": {
                        "code": {
                          "type": "integer",
                          "example": "ABDM-1103: "
                        },
                        "message": {
                          "type": "string",
                          "example": "Duplicate Discovery request"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string",
                      "example": "900901"
                    },
                    "message": {
                      "type": "string",
                      "example": "Invalid Credentials"
                    },
                    "description": {
                      "type": "string",
                      "example": "Invalid Credentials. Make sure you have provided the correct security credentials"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string",
                  "example": "Access Denied"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error -> It is just one example, for every api the path will be changed.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "timestamp",
                    "path",
                    "status",
                    "error",
                    "requestId"
                  ],
                  "properties": {
                    "timestamp": {
                      "type": "number",
                      "example": 1731557446506
                    },
                    "path": {
                      "type": "string",
                      "example": "/api/v3/hiecm/user-initiated-linking/patient/care-context/discover"
                    },
                    "status": {
                      "type": "integer",
                      "example": 500
                    },
                    "error": {
                      "type": "string",
                      "example": " Internal Server Error"
                    },
                    "requestId": {
                      "type": "string",
                      "example": "d20b575b-2659"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/hiecm/user-initiated-linking/v3/patient/care-context/on-discover": {
      "post": {
        "tags": [
          "abdm-user-initiated-linking-hip"
        ],
        "operationId": "abdm-user-initiated-linking 2",
        "summary": "HMIS/LIMS/HIP has to ensure that only unlinked records of the patient has to be shared through this API.",
        "description": "This API endpoint is invoked by the Hospital Management Information System (HMIS) or Laboratory Information Management System (LIMS) or HIP application to share the response of the /api/hiecm/user-initiated-linking/v3/patient/care-context/on-discover API. It facilitates the communication of discovered health records back to the patient or user. By using this API, the HMIS/LIMS application ensures that the patient’s health information is accurately and promptly shared, supporting efficient and transparent health information exchange. This process is crucial for maintaining the integrity and continuity of patient care, enabling patients to have comprehensive access to their health records.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "REQUEST-ID",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "18235d89-cb13-479d-ad71-7a57d5f669a8",
            "description": "Unique UUID for track the end to end request transaction"
          },
          {
            "name": "TIMESTAMP",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "2022-10-06T15:10:00.587Z",
            "description": "Actual time of the request was initiated, ISO 8601 represents date and time by starting with the year, followed by the month, the day, the hour, the minutes, seconds and milliseconds"
          },
          {
            "name": "X-CM-ID",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "sbx",
            "description": "Suffix of the consent manager to which the request was intended"
          },
          {
            "name": "X-HIU-ID",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "IN2810014366",
            "description": "Identifier of the health information user to which the request was intended"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "description": "In the request body, either ‘patient’ or ‘error’ must be included.<br> <ol type='a'><br/> <li>Incase of success scenario, patient is mandatory and error is optional</li> <li>In case of failure scenario, error is mandatory and patient is optional</li> <li>response is mandatory object in both the cases</li> </ol> ",
                "required": [
                  "transactionId",
                  "patient",
                  "matchedBy",
                  "response"
                ],
                "properties": {
                  "transactionId": {
                    "type": "string",
                    "format": "uuid",
                    "nullable": false,
                    "example": "f901b782-bfdf-4224-9f8d-da2cadc20c0d",
                    "description": "UUID from discover request callback to track the entire user link flow"
                  },
                  "patient": {
                    "type": "array",
                    "nullable": false,
                    "items": {
                      "type": "object",
                      "required": [
                        "referenceNumber",
                        "display",
                        "careContexts",
                        "hiType",
                        "count"
                      ],
                      "properties": {
                        "referenceNumber": {
                          "type": "string",
                          "nullable": false,
                          "example": "abc123@sbx",
                          "description": "A patient identifier with which patient is registered in the facility/hospital.Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. ()/:\\\\\\\\]{0,255}$\""
                        },
                        "display": {
                          "type": "string",
                          "nullable": false,
                          "example": 12345,
                          "description": "Display text for patient reference. Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. \\\"':|()/]{0,255}$\""
                        },
                        "careContexts": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "required": [
                              "referenceNumber",
                              "display"
                            ],
                            "properties": {
                              "referenceNumber": {
                                "type": "string",
                                "nullable": false,
                                "example": "abc123",
                                "description": "An identifier of patient's care context created in HIP. A care context is a group of patient's health data (Not the actual health data).Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. ()/:\\\\\\\\]{0,255}$\""
                              },
                              "display": {
                                "type": "string",
                                "nullable": true,
                                "example": 12345,
                                "description": "Display text for care context reference. Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. \\\"':|()/]{0,255}$\""
                              }
                            }
                          }
                        },
                        "hiType": {
                          "type": "string",
                          "nullable": false,
                          "enum": [
                            "Prescription",
                            "DiagnosticReport",
                            "OPConsultation",
                            "DischargeSummary",
                            "ImmunizationRecord",
                            "HealthDocumentRecord",
                            "WellnessRecord",
                            "Invoice"
                          ],
                          "example": "Prescription",
                          "description": "The health information type"
                        },
                        "count": {
                          "type": "integer",
                          "nullable": false,
                          "example": 1,
                          "description": "The count should match the number of care contexts in the payload"
                        }
                      }
                    }
                  },
                  "matchedBy": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "enum": [
                        "MR",
                        "MOBILE",
                        "ABHA_NUMBER",
                        "ABHA_ADDRESS"
                      ],
                      "nullable": false,
                      "example": "MR",
                      "description": "Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. \\\"':|()/]{0,255}$\""
                    }
                  },
                  "error": {
                    "type": "object",
                    "nullable": false,
                    "required": [
                      "code",
                      "message"
                    ],
                    "properties": {
                      "code": {
                        "type": "string",
                        "nullable": false,
                        "example": "ABDM-9999",
                        "description": "The ABDM error code. Allows alpha numeric character and special characters like ^[a-zA-Z0-9_\\-@,. \":]{0,255}$"
                      },
                      "message": {
                        "type": "string",
                        "nullable": false,
                        "example": "error message",
                        "description": "The appropriate error message. Allows alpha numeric character and special characters like ^[a-zA-Z0-9_\\-@,. \":]{0,255}$"
                      }
                    }
                  },
                  "response": {
                    "type": "object",
                    "nullable": false,
                    "required": [
                      "requestId"
                    ],
                    "properties": {
                      "requestId": {
                        "type": "string",
                        "format": "uuid",
                        "nullable": false,
                        "minimum": 36,
                        "maximum": 50,
                        "example": "f29f0e59-8388-4698-9fe6-05db67aeac46",
                        "description": "The request id that was passed"
                      }
                    },
                    "description": "The request id is from the /discover callback. Allows alpha numeric characters and special characters like \"^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}\""
                  }
                }
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Accepted"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "object",
                      "required": [
                        "code",
                        "message"
                      ],
                      "properties": {
                        "code": {
                          "type": "integer",
                          "example": "ABDM-1106: "
                        },
                        "message": {
                          "type": "string",
                          "example": "Duplicate On discovery request"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string",
                      "example": "900901"
                    },
                    "message": {
                      "type": "string",
                      "example": "Invalid Credentials"
                    },
                    "description": {
                      "type": "string",
                      "example": "Invalid Credentials. Make sure you have provided the correct security credentials"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string",
                  "example": "Access Denied"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error -> It is just one example, for every api the path will be changed.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "timestamp",
                    "path",
                    "status",
                    "error",
                    "requestId"
                  ],
                  "properties": {
                    "timestamp": {
                      "type": "number",
                      "example": 1731557446506
                    },
                    "path": {
                      "type": "string",
                      "example": "/api/v3/hiecm/user-initiated-linking/patient/care-context/discover"
                    },
                    "status": {
                      "type": "integer",
                      "example": 500
                    },
                    "error": {
                      "type": "string",
                      "example": " Internal Server Error"
                    },
                    "requestId": {
                      "type": "string",
                      "example": "d20b575b-2659",
                      "description": "The request id from discover call back .Allows alpha numeric characters and special characters like \"^[0-9a-fA-F]{8}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{12}\""
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "<callback_url>/api/v3/hip/link/care-context/init": {
      "post": {
        "tags": [
          "abdm-user-initiated-linking-hip"
        ],
        "operationId": "abdm-user-initiated-linking 3",
        "summary": "This API endpoint is used to initiate the linking of care contexts for a patient. It allows healthcare information providers (HIPs) to link patient care contexts with their ABHA (Ayushman Bharat Health Account) address.",
        "description": "The init API endpoint facilitates the initial linking of care contexts to a patient’s ABHA address. When a request is made to this endpoint, it returns a response containing the transaction ID, ABHA address, patient details, and any errors encountered. This ensures that patient care contexts are accurately linked and managed within the healthcare system.<br> <ol type='a'><b>Note:</b><br><il>Incase of success, HIP will get the patient details in the callback.</il><br><il>In case of failure, HIP will get the error response in the callback.</il></ol>",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "REQUEST-ID",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "18235d89-cb13-479d-ad71-7a57d5f669a8",
            "description": "Unique UUID for track the end to end request transaction"
          },
          {
            "name": "TIMESTAMP",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "2022-10-06T15:10:00.587Z",
            "description": "Actual time of the request was initiated, ISO 8601 represents date and time by starting with the year, followed by the month, the day, the hour, the minutes, seconds and milliseconds"
          },
          {
            "name": "X-HIP-ID",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "IN2810014366",
            "description": "Identifier of the health information provider to which the request was intended"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "description": "In the request body, either ‘patient’ or ‘error’ must be included.<br> <ol type='a'><br/> <li>Incase of success scenario,patient is mandatory and error is optional</li> <li>Incase of failure scenario,error is mandatory and patient is optional</li></ol> ",
                "required": [
                  "transactionId",
                  "abhaAddress",
                  "patient"
                ],
                "properties": {
                  "transactionId": {
                    "type": "string",
                    "format": "uuid",
                    "nullable": false,
                    "example": "f901b782-bfdf-4224-9f8d-da2cadc20c0d"
                  },
                  "abhaAddress": {
                    "type": "string",
                    "nullable": false,
                    "example": "sample@sbx",
                    "description": "A patient identifier with which patient is registered in the facility/hospital.Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\-@,. ()/:\\\\]{0,255}$\""
                  },
                  "patient": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "required": [
                        "referenceNumber",
                        "display",
                        "careContexts",
                        "hiType"
                      ],
                      "properties": {
                        "referenceNumber": {
                          "type": "string",
                          "nullable": false,
                          "example": "abc123",
                          "description": "A patient identifier with which patient is registered in the facility/hospital. Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\-@,. ()/:\\\\]{0,255}$\""
                        },
                        "display": {
                          "type": "string",
                          "nullable": false,
                          "example": "Test",
                          "description": "The display text of patient.Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. \\\"':|()/]{0,255}$\""
                        },
                        "careContexts": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "required": [
                              "referenceNumber",
                              "display"
                            ],
                            "properties": {
                              "referenceNumber": {
                                "type": "string",
                                "nullable": false,
                                "example": "abc123",
                                "description": "An identifier of patient's care context created in HIP. A care context is a group of patient's health data (Not the actual health data).Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\-@,. ()/:\\\\]{0,255}$\""
                              },
                              "display": {
                                "type": "string",
                                "nuallable": false,
                                "example": "Blood Test",
                                "description": "The display of care context.Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. \\\"':|()/]{0,255}$\""
                              }
                            }
                          }
                        },
                        "hiType": {
                          "type": "string",
                          "nullable": false,
                          "enum": [
                            "Prescription",
                            "DiagnosticReport",
                            "OPConsultation",
                            "DischargeSummary",
                            "ImmunizationRecord",
                            "HealthDocumentRecord",
                            "WellnessRecord",
                            "Invoice"
                          ],
                          "example": "Prescription",
                          "description": "The health information type"
                        },
                        "count": {
                          "type": "integer",
                          "nullable": false,
                          "example": 1,
                          "description": "The count should match the number of care contexts in the payload"
                        }
                      }
                    }
                  },
                  "error": {
                    "type": "object",
                    "nullable": true,
                    "required": [
                      "code",
                      "message"
                    ],
                    "properties": {
                      "code": {
                        "type": "string",
                        "nullable": false,
                        "example": "ABDM-1001",
                        "description": "The ABDM error code"
                      },
                      "message": {
                        "type": "string",
                        "nullable": false,
                        "example": "error message",
                        "description": "The appropriate error message"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Ok",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "transactionId": {
                      "type": "string",
                      "example": "992242c9-6628-412e-b323-681e612e188c"
                    },
                    "abhaAddress": {
                      "type": "string",
                      "example": "nithishjanithi@sbx"
                    },
                    "patient": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "referenceNumber": {
                            "type": "string",
                            "example": "nithishjanithi@sbx"
                          },
                          "careContexts": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "referenceNumber": {
                                  "type": "string",
                                  "example": "New test 1"
                                }
                              }
                            }
                          },
                          "hiType": {
                            "type": "string",
                            "example": "OPConsultation"
                          },
                          "count": {
                            "type": "integer",
                            "example": 1
                          }
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "Success": {
                    "value": {
                      "transactionId": "c1ce50dc-d1f7-4a31-987a-c6bf6d08ad5a",
                      "abhaAddress": "nithishjanithi@sbx",
                      "patient": [
                        {
                          "referenceNumber": "nithishjanithi@sbx",
                          "careContexts": [
                            {
                              "referenceNumber": "New test 1"
                            }
                          ],
                          "hiType": "OPConsultation",
                          "count": 1
                        }
                      ]
                    }
                  },
                  "Already Linked": {
                    "value": {
                      "transactionId": "992242c9-6628-412e-b323-681e612e188c",
                      "error": {
                        "code": "ABDM-1056",
                        "message": "This care context has already been linked"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "object",
                      "required": [
                        "code",
                        "message"
                      ],
                      "properties": {
                        "code": {
                          "type": "integer",
                          "example": "ABDM-1104: "
                        },
                        "message": {
                          "type": "string",
                          "example": "Duplicate Init request"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string",
                      "example": "900901"
                    },
                    "message": {
                      "type": "string",
                      "example": "Invalid Credentials"
                    },
                    "description": {
                      "type": "string",
                      "example": "Invalid Credentials. Make sure you have provided the correct security credentials"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string",
                  "example": "Access Denied"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error -> It is just one example, for every api the path will be changed.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "timestamp",
                    "path",
                    "status",
                    "error",
                    "requestId"
                  ],
                  "properties": {
                    "timestamp": {
                      "type": "number",
                      "example": 1731557446506
                    },
                    "path": {
                      "type": "string",
                      "example": "/api/v3/hiecm/user-initiated-linking/patient/care-context/discover"
                    },
                    "status": {
                      "type": "integer",
                      "example": 500
                    },
                    "error": {
                      "type": "string",
                      "example": " Internal Server Error"
                    },
                    "requestId": {
                      "type": "string",
                      "example": "d20b575b-2659",
                      "description": "The request id that was passed.Allows alpha numeric characters and special characters like \"^[0-9a-fA-F]{8}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{12}\""
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/hiecm/user-initiated-linking/v3/link/care-context/on-init": {
      "post": {
        "tags": [
          "abdm-user-initiated-linking-hip"
        ],
        "operationId": "abdm-user-initiated-linking 4",
        "summary": "As a result of the initialization, HIP has to generate a unique reference-number in the link object which is called as link-reference-number and it has to trigger a OTP (token) to the patient's mobile number that is present with the HIP/HMIS/LIMS which will be provided back to HIP for validation during confirm request flow.",
        "description": "This API endpoint is invoked by the Health Information Provider (HIP) to share the response of the /api/hiecm/user-initiated-linking/v3/link/care-context/on-init API. By using this API, the HIP communicates the outcome of the care context linking process, ensuring that the system accurately reflects the status of the operation. This process is essential for maintaining the integrity and synchronization of patient health records, supporting seamless and efficient health information exchange within the healthcare ecosystem.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "REQUEST-ID",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "18235d89-cb13-479d-ad71-7a57d5f669a8",
            "description": "Unique UUID for track the end to end request transaction"
          },
          {
            "name": "TIMESTAMP",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "2022-10-06T15:10:00.587Z",
            "description": "Actual time of the request was initiated, ISO 8601 represents date and time by starting with the year, followed by the month, the day, the hour, the minutes, seconds and milliseconds"
          },
          {
            "name": "X-CM-ID",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "sbx",
            "description": "Suffix of the consent manager to which the request was intended"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "description": "In the request body, either ‘link’ or ‘error’ must be included.<br> <ol type='a'><br/> <li>link is mandatory and error should be null</li> <li>error is mandatory and patient should be null</li><li>response is mandatory object in both the cases</li></ol> ",
                "required": [
                  "transactionId",
                  "link",
                  "response"
                ],
                "properties": {
                  "transactionId": {
                    "type": "string",
                    "format": "uuid",
                    "nullable": true,
                    "example": "f901b782-bfdf-4224-9f8d-da2cadc20c0d",
                    "description": "UUID from discover request callback to track the entire user link flow."
                  },
                  "link": {
                    "type": "object",
                    "nullable": false,
                    "required": [
                      "referenceNumber",
                      "authenticationType",
                      "meta"
                    ],
                    "properties": {
                      "referenceNumber": {
                        "type": "string",
                        "format": "uuid",
                        "nullable": false,
                        "example": "d353b782-bfdf-4224-9f8d-da2cadc20c0d",
                        "description": "The link reference number. Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. ()/:\\\\\\\\]{0,255}$\""
                      },
                      "authenticationType": {
                        "type": "string",
                        "enum": [
                          "DIRECT",
                          "MEDIATED"
                        ],
                        "nullable": false,
                        "example": "DIRECT",
                        "description": "The type of authentication.Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. \\\"':|()/]{0,255}$\""
                      },
                      "meta": {
                        "type": "object",
                        "nullable": false,
                        "required": [
                          "communicationMedium",
                          "communicationHint",
                          "communicationExpiry"
                        ],
                        "properties": {
                          "communicationMedium": {
                            "type": "string",
                            "enum": [
                              "MOBILE",
                              "EMAIL"
                            ],
                            "nullable": false,
                            "example": "MOBILE",
                            "description": "The communication medium. Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. \\\"':|()/]{0,255}$\""
                          },
                          "communicationHint": {
                            "type": "string",
                            "nullable": true,
                            "example": "OTP",
                            "description": "The communication hint. Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. \\\"':|()/]{0,255}$\""
                          },
                          "communicationExpiry": {
                            "type": "string",
                            "format": "iso-date-time",
                            "nullable": false,
                            "example": "2024-05-01T05:22:34.123Z",
                            "description": "The communication expiry date. Should be UTC date in ISO format. Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. \\\"':|()/]{0,255}$\""
                          }
                        }
                      }
                    }
                  },
                  "error": {
                    "type": "object",
                    "nullable": true,
                    "required": [
                      "code",
                      "message"
                    ],
                    "properties": {
                      "code": {
                        "type": "string",
                        "nullable": false,
                        "example": "ABDM-1001",
                        "description": "The ABDM error code. Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. \\\"':|()/]{0,255}$\""
                      },
                      "message": {
                        "type": "string",
                        "nullable": false,
                        "example": "error message",
                        "description": "The appropriate error message. Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. \\\"':|()/]{0,255}$\""
                      }
                    }
                  },
                  "response": {
                    "type": "object",
                    "nullable": false,
                    "required": [
                      "requestId"
                    ],
                    "properties": {
                      "requestId": {
                        "type": "string",
                        "format": "uuid",
                        "nullable": false,
                        "minimum": 36,
                        "maximum": 50,
                        "example": "f29f0e59-8388-4698-9fe6-05db67aeac46",
                        "description": "The request id that was passed"
                      }
                    },
                    "description": "The request id is from the link/init callback. Allows alpha numeric characters and special characters like \"^[0-9a-fA-F]{8}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{12}\""
                  }
                }
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Accepted"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "object",
                      "required": [
                        "code",
                        "message"
                      ],
                      "properties": {
                        "code": {
                          "type": "integer",
                          "example": "ABDM-1107: "
                        },
                        "message": {
                          "type": "string",
                          "example": "Duplicate On init request"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string",
                      "example": "900901"
                    },
                    "message": {
                      "type": "string",
                      "example": "Invalid Credentials"
                    },
                    "description": {
                      "type": "string",
                      "example": "Invalid Credentials. Make sure you have provided the correct security credentials"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string",
                  "example": "Access Denied"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error -> It is just one example, for every api the path will be changed.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "timestamp",
                    "path",
                    "status",
                    "error",
                    "requestId"
                  ],
                  "properties": {
                    "timestamp": {
                      "type": "number",
                      "example": 1731557446506
                    },
                    "path": {
                      "type": "string",
                      "example": "/api/v3/hiecm/user-initiated-linking/patient/care-context/discover"
                    },
                    "status": {
                      "type": "integer",
                      "example": 500
                    },
                    "error": {
                      "type": "string",
                      "example": " Internal Server Error"
                    },
                    "requestId": {
                      "type": "string",
                      "example": "d20b575b-2659",
                      "description": "The request id from discover call back .Allows alpha numeric characters and special characters like \"^[0-9a-fA-F]{8}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{12}\""
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "<callback_url>/api/v3/hip/link/care-context/confirm": {
      "post": {
        "tags": [
          "abdm-user-initiated-linking-hip"
        ],
        "operationId": "abdm-user-initiated-linking 5",
        "summary": "This API endpoint is used to confirm the linking of care contexts for a patient. It allows healthcare information providers (HIPs) to verify the linking process using a confirmation token.",
        "description": "The confirm API endpoint facilitates the confirmation of care context linking for a patient. When a request is made to this endpoint, it verifies the linking process using a provided token and reference number. This ensures that the care contexts are accurately linked to the patient’s ABHA (Ayushman Bharat Health Account) address.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "REQUEST-ID",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "18235d89-cb13-479d-ad71-7a57d5f669a8",
            "description": "Unique UUID for track the end to end request transaction"
          },
          {
            "name": "TIMESTAMP",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "2022-10-06T15:10:00.587Z",
            "description": "Actual time of the request was initiated, ISO 8601 represents date and time by starting with the year, followed by the month, the day, the hour, the minutes, seconds and milliseconds"
          },
          {
            "name": "X-HIP-ID",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "IN2810014366",
            "description": "Identifier of the health information provider to which the request was intended"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "confirmation"
                ],
                "properties": {
                  "confirmation": {
                    "type": "object",
                    "required": [
                      "token",
                      "linkRefNumber"
                    ],
                    "properties": {
                      "token": {
                        "type": "integer",
                        "nullable": false,
                        "example": 123456,
                        "description": "The token number. Must be 6 digit and contain only 0-9"
                      },
                      "linkRefNumber": {
                        "type": "string",
                        "format": "uuid",
                        "nullable": false,
                        "example": "d353b782-bfdf-4224-9f8d-da2cadc20c0d",
                        "description": "The link reference number random uuid. Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. \\\"':|()/]{0,255}$\""
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "object",
                      "required": [
                        "code",
                        "message"
                      ],
                      "properties": {
                        "code": {
                          "type": "integer",
                          "example": "ABDM-1105: "
                        },
                        "message": {
                          "type": "string",
                          "example": "Duplicate Confirm request"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string",
                      "example": "900901"
                    },
                    "message": {
                      "type": "string",
                      "example": "Invalid Credentials"
                    },
                    "description": {
                      "type": "string",
                      "example": "Invalid Credentials. Make sure you have provided the correct security credentials"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string",
                  "example": "Access Denied"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error -> It is just one example, for every api the path will be changed.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "timestamp",
                    "path",
                    "status",
                    "error",
                    "requestId"
                  ],
                  "properties": {
                    "timestamp": {
                      "type": "number",
                      "example": 1731557446506
                    },
                    "path": {
                      "type": "string",
                      "example": "/api/v3/hiecm/user-initiated-linking/patient/care-context/discover"
                    },
                    "status": {
                      "type": "integer",
                      "example": 500
                    },
                    "error": {
                      "type": "string",
                      "example": " Internal Server Error"
                    },
                    "requestId": {
                      "type": "string",
                      "example": "d20b575b-2659",
                      "description": "The request id that was passed.Allows alpha numeric characters and special characters like \"^[0-9a-fA-F]{8}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{12}\""
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/hiecm/user-initiated-linking/v3/link/care-context/on-confirm": {
      "post": {
        "tags": [
          "abdm-user-initiated-linking-hip"
        ],
        "operationId": "abdm-user-initiated-linking 6",
        "summary": "This API will be invoked by the HIP for sharing the response of /api/hiecm/user-initiated-linking/v3/link/care-context/on-confirm API",
        "description": "This API endpoint is invoked by the Health Information Provider (HIP) to share the response of the /api/hiecm/user-initiated-linking/v3/link/care-context/on-confirm API. By using this API, the HIP communicates the outcome of the care context confirmation process, ensuring that the system accurately reflects the status of the operation. This process is essential for maintaining the integrity and synchronization of patient health records, supporting seamless and efficient health information exchange within the healthcare ecosystem. <br><ol type=\"a\"><li>In case of success scenario, patient object is mandatory and error object is optional</li>\n              <br>\n              <li>In case of error scenario, error object is mandatory and patient object is optional</li>\n              <br>\n              <li>Response is mandatory in both scenarios</li>\n    </ol>",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "REQUEST-ID",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "18235d89-cb13-479d-ad71-7a57d5f669a8",
            "description": "Unique UUID for track the end to end request transaction"
          },
          {
            "name": "TIMESTAMP",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "2022-10-06T15:10:00.587Z",
            "description": "Actual time of the request was initiated, ISO 8601 represents date and time by starting with the year, followed by the month, the day, the hour, the minutes, seconds and milliseconds"
          },
          {
            "name": "X-CM-ID",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "sbx",
            "description": "Suffix of the consent manager to which the request was intended"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "description": "In the request body, either ‘patient’ or ‘error’ must be included.<br> <ol type='a'><br/> <li>Incase of success scenario,patient is mandatory and error is optional</li> <li>Incase of failure scenario,error is mandatory and patient is optional</li><li>response is mandatory object in both the cases</li></ol> ",
                "required": [
                  "patient",
                  "response"
                ],
                "properties": {
                  "patient": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "required": [
                        "referenceNumber",
                        "display",
                        "careContexts",
                        "hiType",
                        "count"
                      ],
                      "properties": {
                        "referenceNumber": {
                          "type": "string",
                          "nullable": false,
                          "example": "abc123@sbx",
                          "description": "A patient identifier with which patient is registered in the facility/hospital.Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. ()/:\\\\\\\\]{0,255}$\"\n"
                        },
                        "display": {
                          "type": "string",
                          "nullable": true,
                          "example": 12345,
                          "description": "Display text for patient reference. Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. \\\"':|()/]{0,255}$\""
                        },
                        "careContexts": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "required": [
                              "referenceNumber",
                              "display"
                            ],
                            "properties": {
                              "referenceNumber": {
                                "type": "string",
                                "nullable": false,
                                "example": "abc123",
                                "description": "An identifier of patient's care context created in HIP. A care context is a group of patient's health data (Not the actual health data).Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. ()/:\\\\\\\\]{0,255}$\"\n"
                              },
                              "display": {
                                "type": "string",
                                "nullable": true,
                                "example": 12345,
                                "description": "Display text for care context reference. Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. \\\"':|()/]{0,255}$\"\n"
                              }
                            }
                          }
                        },
                        "hiType": {
                          "type": "string",
                          "nullable": false,
                          "enum": [
                            "Prescription",
                            "DiagnosticReport",
                            "OPConsultation",
                            "DischargeSummary",
                            "ImmunizationRecord",
                            "HealthDocumentRecord",
                            "WellnessRecord",
                            "Invoice"
                          ],
                          "example": "Prescription",
                          "description": "The health information type"
                        },
                        "count": {
                          "type": "integer",
                          "nullable": false,
                          "example": 1,
                          "description": "The count should match the number of care contexts in the payload\n"
                        }
                      }
                    }
                  },
                  "error": {
                    "type": "object",
                    "nullable": true,
                    "required": [
                      "code",
                      "message"
                    ],
                    "properties": {
                      "code": {
                        "type": "string",
                        "nullable": false,
                        "example": "ABDM-1001",
                        "description": "The ABDM error code"
                      },
                      "message": {
                        "type": "string",
                        "nullable": false,
                        "example": "error message",
                        "description": "The appropriate error message"
                      }
                    }
                  },
                  "response": {
                    "type": "object",
                    "nullable": false,
                    "required": [
                      "requestId"
                    ],
                    "properties": {
                      "requestId": {
                        "type": "string",
                        "format": "uuid",
                        "nullable": false,
                        "minimum": 36,
                        "maximum": 50,
                        "example": "f29f0e59-8388-4698-9fe6-05db67aeac46",
                        "description": "The request id that was passed"
                      }
                    },
                    "description": "The request id is from the link/confirm callback. Allows alpha numeric characters and special characters like \"^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}\""
                  }
                }
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Accepted"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "object",
                      "required": [
                        "code",
                        "message"
                      ],
                      "properties": {
                        "code": {
                          "type": "integer",
                          "example": "ABDM-1108: "
                        },
                        "message": {
                          "type": "string",
                          "example": "Duplicate On confirm request"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string",
                      "example": "900901"
                    },
                    "message": {
                      "type": "string",
                      "example": "Invalid Credentials"
                    },
                    "description": {
                      "type": "string",
                      "example": "Invalid Credentials. Make sure you have provided the correct security credentials"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string",
                  "example": "Access Denied"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error -> It is just one example, for every api the path will be changed.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "timestamp",
                    "path",
                    "status",
                    "error",
                    "requestId"
                  ],
                  "properties": {
                    "timestamp": {
                      "type": "number",
                      "example": 1731557446506
                    },
                    "path": {
                      "type": "string",
                      "example": "/api/v3/hiecm/user-initiated-linking/patient/care-context/discover"
                    },
                    "status": {
                      "type": "integer",
                      "example": 500
                    },
                    "error": {
                      "type": "string",
                      "example": " Internal Server Error"
                    },
                    "requestId": {
                      "type": "string",
                      "example": "d20b575b-2659"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/hiecm/user-initiated-linking/v3/patient/care-context/discover": {
      "post": {
        "tags": [
          "abdm-user-initiated-linking-phr"
        ],
        "operationId": "abdm-user-initiated-linking-phr 1",
        "summary": "This API will be invoked by the patient/user from PHR application to discover his/her health records.",
        "description": "This API endpoint is designed to be invoked by the patient or user through the Personal Health Record (PHR) application to discover their health records. By using this API, patients can initiate a search to locate and access their health information across various Health Information Providers (HIPs). This functionality empowers patients to have greater control and visibility over their health data, facilitating a more informed and engaged approach to managing their health. The API supports the seamless retrieval of health records, ensuring that patients can easily discover and review their care contexts.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "REQUEST-ID",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "18235d89-cb13-479d-ad71-7a57d5f669a8",
            "description": "Unique UUID for track the end to end request transaction"
          },
          {
            "name": "TIMESTAMP",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "2022-10-06T15:10:00.587Z",
            "description": "Actual time of the request was initiated, ISO 8601 represents date and time by starting with the year, followed by the month, the day, the hour, the minutes, seconds and milliseconds"
          },
          {
            "name": "X-CM-ID",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "sbx",
            "description": "Suffix of the consent manager to which the request was intended"
          },
          {
            "name": "X-HIU-ID",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "IN2810014366",
            "description": "Identifier of the health information user to which the request was intended"
          },
          {
            "name": "X-AUTH-TOKEN",
            "in": "header",
            "required": true,
            "description": "JWT Authentication token which was issued by ABDM after successful validation of username and password",
            "schema": {
              "type": "string",
              "format": "bearer",
              "minimum": 1,
              "maximum": 100,
              "example": "eyJhbGciOiJSUzUxMiJ9.eyJzdWIiOiJ2YXNhbnRoYWt1bWFyLmtlc2F2"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "hip",
                  "unverifiedIdentifiers"
                ],
                "properties": {
                  "hip": {
                    "type": "object",
                    "nullable": false,
                    "required": [
                      "id"
                    ],
                    "properties": {
                      "id": {
                        "type": "string",
                        "nullable": false,
                        "example": "cowin_hip_01",
                        "description": "The service ID of the health information provider"
                      }
                    }
                  },
                  "unverifiedIdentifiers": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "required": [
                        "type",
                        "value"
                      ],
                      "properties": {
                        "type": {
                          "type": "string",
                          "enum": [
                            "MR",
                            "MOBILE",
                            "ABHA_NUMBER",
                            "ABHA_ADDRESS"
                          ],
                          "nullable": false,
                          "example": "MOBILE"
                        },
                        "value": {
                          "type": "string",
                          "nullable": false,
                          "example": "+9198765*****",
                          "description": "Allows alphanumeric characters and special characters like \"^(\\\\+)?[a-zA-Z0-9_\\\\-@,. ]{0,255}$\""
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Accepted"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "object",
                      "required": [
                        "code",
                        "message"
                      ],
                      "properties": {
                        "code": {
                          "type": "integer",
                          "example": "ABDM-1103: "
                        },
                        "message": {
                          "type": "string",
                          "example": "Duplicate Discovery request"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string",
                      "example": "900901"
                    },
                    "message": {
                      "type": "string",
                      "example": "Invalid Credentials"
                    },
                    "description": {
                      "type": "string",
                      "example": "Invalid Credentials. Make sure you have provided the correct security credentials"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string",
                  "example": "Access Denied"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error -> It is just one example, for every api the path will be changed.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "timestamp",
                    "path",
                    "status",
                    "error",
                    "requestId"
                  ],
                  "properties": {
                    "timestamp": {
                      "type": "number",
                      "example": 1731557446506
                    },
                    "path": {
                      "type": "string",
                      "example": "/api/v3/hiecm/user-initiated-linking/patient/care-context/discover"
                    },
                    "status": {
                      "type": "integer",
                      "example": 500
                    },
                    "error": {
                      "type": "string",
                      "example": " Internal Server Error"
                    },
                    "requestId": {
                      "type": "string",
                      "example": "d20b575b-2659",
                      "description": "Unique UUID"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "<callback_url>/api/v3/hiu/patient/care-context/on-discover": {
      "post": {
        "tags": [
          "abdm-user-initiated-linking-phr"
        ],
        "operationId": "abdm-user-initiated-linking-phr 2",
        "summary": "This API endpoint is used by healthcare information users (HIUs) to receive the discovered care contexts of a patient. It provides detailed information about the patient’s care contexts, including any errors encountered during the discovery process.",
        "description": "The on-discover API endpoint allows HIUs to receive and process the care contexts associated with a patient. When a request is made to this endpoint, it returns a detailed response containing the patient’s care contexts, transaction details, and any errors that occurred. This ensures that HIUs have the necessary information to manage patient care effectively. <p><strong>NOTE:</strong> In the request body, either 'patient' or 'error' must be included. <ol type = \"a\"> <li>In case of success scenario, patient object is mandatory and error object is optional</li> <br> <li>In case of error scenario, error object is mandatory and patient object is optional</li> <br> <li>Response is mandatory in both scenarios</li> </ol>",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "REQUEST-ID",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "18235d89-cb13-479d-ad71-7a57d5f669a8",
            "description": "Unique UUID for track the end to end request transaction"
          },
          {
            "name": "TIMESTAMP",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "2022-10-06T15:10:00.587Z",
            "description": "Actual time of the request was initiated, ISO 8601 represents date and time by starting with the year, followed by the month, the day, the hour, the minutes, seconds and milliseconds"
          },
          {
            "name": "X-HIU-ID",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "IN2810014366",
            "description": "Identifier of the health information user to which the request was intended"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "description": "In the request body, either 'patient' or 'error' must be included. <ol type = \"a\"> <li>In case of success scenario, patient object is mandatory and error object is optional</li> <br> <li>In case of error scenario, error object is mandatory and patient object is optional</li> <br> <li>Response is mandatory in both scenarios</li> </ol>",
                "required": [
                  "transactionId",
                  "patient",
                  "createdAt",
                  "response"
                ],
                "properties": {
                  "transactionId": {
                    "type": "string",
                    "format": "uuid",
                    "nullable": false,
                    "example": "f901b782-bfdf-4224-9f8d-da2cadc20c0d",
                    "description": null
                  },
                  "patient": {
                    "type": "array",
                    "nullable": false,
                    "items": {
                      "type": "object",
                      "required": [
                        "referenceNumber",
                        "careContexts",
                        "hiType",
                        "count"
                      ],
                      "properties": {
                        "referenceNumber": {
                          "type": "string",
                          "nullable": false,
                          "example": "abc123",
                          "description": "A patient identifier with which patient is registered in the facility/hospital.Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. ()/:\\\\\\\\]{0,255}$\""
                        },
                        "display": {
                          "type": "string",
                          "nullable": true,
                          "example": 12345,
                          "description": "Display text for patient reference.Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. \\\"':|()/]{0,255}$\""
                        },
                        "careContexts": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "required": [
                              "referenceNumber",
                              "display"
                            ],
                            "properties": {
                              "referenceNumber": {
                                "type": "string",
                                "nullable": false,
                                "example": "abc123",
                                "description": "An identifier of patient's care context created in HIP. A care context is a group of patient's health data (Not the actual health data).Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. ()/:\\\\\\\\]{0,255}$\""
                              },
                              "display": {
                                "type": "string",
                                "nullable": true,
                                "example": 12345,
                                "description": "Display text for care context reference. Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. \\\"':|()/]{0,255}$\""
                              }
                            }
                          }
                        },
                        "hiType": {
                          "type": "string",
                          "nullable": false,
                          "enum": [
                            "Prescription",
                            "DiagnosticReport",
                            "OPConsultation",
                            "DischargeSummary",
                            "ImmunizationRecord",
                            "HealthDocumentRecord",
                            "WellnessRecord",
                            "Invoice"
                          ],
                          "example": "Prescription",
                          "description": "The health information type"
                        },
                        "count": {
                          "type": "integer",
                          "nullable": false,
                          "example": 1,
                          "description": "The count should match the number of care contexts in the payload"
                        }
                      }
                    }
                  },
                  "createdAt": {
                    "type": "string",
                    "format": "date-time",
                    "nullable": false,
                    "example": "2024-12-31T05:45:35.429Z"
                  },
                  "error": {
                    "type": "object",
                    "nullable": true,
                    "required": [
                      "code",
                      "message"
                    ],
                    "properties": {
                      "code": {
                        "type": "string",
                        "nullable": false,
                        "example": "ABDM-1001",
                        "description": "The ABDM error code"
                      },
                      "message": {
                        "type": "string",
                        "nullable": false,
                        "example": "error message",
                        "description": "The appropriate error message"
                      }
                    }
                  },
                  "response": {
                    "type": "object",
                    "nullable": false,
                    "required": [
                      "requestId"
                    ],
                    "properties": {
                      "requestId": {
                        "type": "string",
                        "format": "uuid",
                        "nullable": false,
                        "minimum": 36,
                        "maximum": 50,
                        "example": "f29f0e59-8388-4698-9fe6-05db67aeac46",
                        "description": "The request id that was passed.Allows alpha numeric characters and special characters like \"^[0-9a-fA-F]{8}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{12}\""
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Ok",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "transactionId": {
                      "type": "string",
                      "example": "0d36501c-551a-4bb5-b247-eec4bb42984b"
                    },
                    "patient": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "referenceNumber": {
                            "type": "string",
                            "example": "example01"
                          },
                          "display": {
                            "type": "string",
                            "example": "abcd-display"
                          },
                          "careContexts": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "referenceNumber": {
                                  "type": "string",
                                  "example": "abcd"
                                },
                                "display": {
                                  "type": "string",
                                  "example": "123-display"
                                }
                              }
                            }
                          },
                          "hiType": {
                            "type": "string",
                            "example": "PRESCRIPTION"
                          },
                          "count": {
                            "type": "integer",
                            "example": 1
                          }
                        }
                      }
                    },
                    "createdAt": {
                      "type": "string",
                      "format": "date-time",
                      "example": "2023-06-13T08:05:43.030Z"
                    },
                    "response": {
                      "type": "object",
                      "properties": {
                        "requestId": {
                          "type": "string",
                          "example": "d89525a2-3a3f-4d39-98b5-477afb1865f6"
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "success": {
                    "value": {
                      "transactionId": "0d36501c-551a-4bb5-b247-eec4bb42984b",
                      "patient": [
                        {
                          "referenceNumber": "example01",
                          "display": "abcd-display",
                          "careContexts": [
                            {
                              "referenceNumber": "abcd",
                              "display": "123-display"
                            }
                          ],
                          "hiType": "PRESCRIPTION",
                          "count": 1
                        }
                      ],
                      "createdAt": "2023-06-13T08:05:43.030Z",
                      "response": {
                        "requestId": "d89525a2-3a3f-4d39-98b5-477afb1865f6"
                      }
                    }
                  },
                  "Invalid Gender": {
                    "value": {
                      "transactionId": "704bd69e-641b-4f92-8709-0d5062336e2c",
                      "error": {
                        "code": "ABDM-1056",
                        "message": "Gender is invalid"
                      },
                      "response": {
                        "requestId": "f9d4adac-723f-40e6-9f95-9c55ef508cf5"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "object",
                      "required": [
                        "code",
                        "message"
                      ],
                      "properties": {
                        "code": {
                          "type": "integer",
                          "example": "ABDM-1106: "
                        },
                        "message": {
                          "type": "string",
                          "example": "Duplicate On discovery request"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string",
                      "example": "900901"
                    },
                    "message": {
                      "type": "string",
                      "example": "Invalid Credentials"
                    },
                    "description": {
                      "type": "string",
                      "example": "Invalid Credentials. Make sure you have provided the correct security credentials"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string",
                  "example": "Access Denied"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error -> It is just one example, for every api the path will be changed.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "timestamp",
                    "path",
                    "status",
                    "error",
                    "requestId"
                  ],
                  "properties": {
                    "timestamp": {
                      "type": "number",
                      "example": 1731557446506
                    },
                    "path": {
                      "type": "string",
                      "example": "/api/v3/hiecm/user-initiated-linking/patient/care-context/discover"
                    },
                    "status": {
                      "type": "integer",
                      "example": 500
                    },
                    "error": {
                      "type": "string",
                      "example": " Internal Server Error"
                    },
                    "requestId": {
                      "type": "string",
                      "example": "d20b575b-2659"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/hiecm/user-initiated-linking/v3/link/care-context/init": {
      "post": {
        "tags": [
          "abdm-user-initiated-linking-phr"
        ],
        "operationId": "abdm-user-initiated-linking-phr 3",
        "summary": "This API will be invoked by the patient/user to link his/her health records.",
        "description": "This API endpoint is designed to be invoked by the patient or user to link their health records. By using this API, patients can initiate the process of associating their health information with their ABHA (Ayushman Bharat Health Account) address. This functionality empowers patients to actively manage and consolidate their health records, ensuring that all relevant care contexts are accurately linked and accessible. The API supports a seamless and efficient health information exchange, enhancing the overall quality and continuity of care within the healthcare ecosystem.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "REQUEST-ID",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "18235d89-cb13-479d-ad71-7a57d5f669a8",
            "description": "Unique UUID for track the end to end request transaction"
          },
          {
            "name": "TIMESTAMP",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "2022-10-06T15:10:00.587Z",
            "description": "Actual time of the request was initiated, ISO 8601 represents date and time by starting with the year, followed by the month, the day, the hour, the minutes, seconds and milliseconds"
          },
          {
            "name": "X-CM-ID",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "sbx",
            "description": "Suffix of the consent manager to which the request was intended"
          },
          {
            "name": "X-HIU-ID",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "IN2810014366",
            "description": "Identifier of the health information user to which the request was intended"
          },
          {
            "name": "X-AUTH-TOKEN",
            "in": "header",
            "required": true,
            "description": "JWT Authentication token which was issued by ABDM after successful validation of username and password",
            "schema": {
              "type": "string",
              "format": "bearer",
              "minimum": 1,
              "maximum": 100,
              "example": "eyJhbGciOiJSUzUxMiJ9.eyJzdWIiOiJ2YXNhbnRoYWt1bWFyLmtlc2F2"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "transactionId",
                  "patient"
                ],
                "properties": {
                  "transactionId": {
                    "type": "string",
                    "format": "uuid",
                    "nullable": false,
                    "example": "f901b782-bfdf-4224-9f8d-da2cadc20c0d",
                    "description": "UUID from discover request callback to track the entire user link flow"
                  },
                  "patient": {
                    "type": "array",
                    "nullable": false,
                    "items": {
                      "type": "object",
                      "required": [
                        "referenceNumber",
                        "display",
                        "careContexts",
                        "hiType",
                        "count"
                      ],
                      "properties": {
                        "referenceNumber": {
                          "type": "string",
                          "nullable": false,
                          "example": "sample@sbx",
                          "description": "A patient identifier with which patient is registered in the facility/hospital.Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. ()/:\\\\\\\\]{0,255}$\""
                        },
                        "display": {
                          "type": "string",
                          "nullable": true,
                          "example": "Test",
                          "description": "Display text for patient reference.Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. \\\"':|()/]{0,255}$\""
                        },
                        "careContexts": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "required": [
                              "referenceNumber"
                            ],
                            "properties": {
                              "referenceNumber": {
                                "type": "string",
                                "nullable": false,
                                "example": "abc123",
                                "description": "An identifier of patient's care context created in HIP. A care context is a group of patient's health data (Not the actual health data).Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. ()/:\\\\\\\\]{0,255}$\""
                              },
                              "display": {
                                "type": "string",
                                "nullable": true,
                                "example": "Sugar Test",
                                "description": "Display text for care context reference.Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. \\\"':|()/]{0,255}$\""
                              }
                            }
                          }
                        },
                        "hiType": {
                          "type": "string",
                          "nullable": false,
                          "enum": [
                            "Prescription",
                            "DiagnosticReport",
                            "OPConsultation",
                            "DischargeSummary",
                            "ImmunizationRecord",
                            "HealthDocumentRecord",
                            "WellnessRecord",
                            "Invoice"
                          ],
                          "example": "OPConsultation",
                          "description": "The health information type"
                        },
                        "count": {
                          "type": "integer",
                          "nullable": false,
                          "example": 1,
                          "description": "The count should match the number of care contexts in the payload"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Accepted"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "object",
                      "required": [
                        "code",
                        "message"
                      ],
                      "properties": {
                        "code": {
                          "type": "integer",
                          "example": "ABDM-1104: "
                        },
                        "message": {
                          "type": "string",
                          "example": "Duplicate Init request"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string",
                      "example": "900901"
                    },
                    "message": {
                      "type": "string",
                      "example": "Invalid Credentials"
                    },
                    "description": {
                      "type": "string",
                      "example": "Invalid Credentials. Make sure you have provided the correct security credentials"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string",
                  "example": "Access Denied"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error -> It is just one example, for every api the path will be changed.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "timestamp",
                    "path",
                    "status",
                    "error",
                    "requestId"
                  ],
                  "properties": {
                    "timestamp": {
                      "type": "number",
                      "example": 1731557446506
                    },
                    "path": {
                      "type": "string",
                      "example": "/api/v3/hiecm/user-initiated-linking/patient/care-context/discover"
                    },
                    "status": {
                      "type": "integer",
                      "example": 500
                    },
                    "error": {
                      "type": "string",
                      "example": " Internal Server Error"
                    },
                    "requestId": {
                      "type": "string",
                      "example": "d20b575b-2659",
                      "description": "The request id from discover call back .Allows alpha numeric characters and special characters like \"^[0-9a-fA-F]{8}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{12}\""
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "<callback_url>/api/v3/hiu/patient/care-context/on-init": {
      "post": {
        "tags": [
          "abdm-user-initiated-linking-phr"
        ],
        "operationId": "abdm-user-initiated-linking-phr 4",
        "summary": "This API endpoint is used by healthcare information users (HIUs) to receive the initial linking of care contexts for a patient. It provides detailed information about the linking process, including authentication details and any errors encountered.",
        "description": "The on-init API endpoint allows HIUs to receive and process the initial linking of care contexts associated with a patient. When a request is made to this endpoint, it returns a detailed response containing the transaction ID, linking information, authentication details, and any errors that occurred. This ensures that HIUs have the necessary information to manage patient care effectively.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "REQUEST-ID",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "18235d89-cb13-479d-ad71-7a57d5f669a8",
            "description": "Unique UUID for track the end to end request transaction"
          },
          {
            "name": "TIMESTAMP",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "2022-10-06T15:10:00.587Z",
            "description": "Actual time of the request was initiated, ISO 8601 represents date and time by starting with the year, followed by the month, the day, the hour, the minutes, seconds and milliseconds"
          },
          {
            "name": "X-HIU-ID",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "IN2810014366",
            "description": "Identifier of the health information user to which the request was intended"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "description": "In the request body, either ‘link’ or ‘error’ must be included.<ol type='a'><br/> <li>Incase of success scenario,link is mandatory and error is optional</li> <li>Incase of failure scenario, error is mandatory and link is optional</li> <li>response is mandatory object in both the cases</li> </ol> ",
                "required": [
                  "transactionId",
                  "link",
                  "response"
                ],
                "properties": {
                  "transactionId": {
                    "type": "string",
                    "format": "uuid",
                    "nullable": true,
                    "example": "f901b782-bfdf-4224-9f8d-da2cadc20c0d",
                    "description": "UUID from discover request callback to track the entire user link flow"
                  },
                  "link": {
                    "type": "object",
                    "nullable": false,
                    "required": [
                      "referenceNumber",
                      "authenticationType",
                      "meta"
                    ],
                    "properties": {
                      "referenceNumber": {
                        "type": "string",
                        "format": "uuid",
                        "nullable": false,
                        "example": "d353b782-bfdf-4224-9f8d-da2cadc20c0d",
                        "description": "The link reference number. Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. ()/:\\\\\\\\]{0,255}$\""
                      },
                      "authenticationType": {
                        "type": "string",
                        "enum": [
                          "DIRECT",
                          "MEDIATED"
                        ],
                        "nullable": false,
                        "example": "DIRECT",
                        "description": "The authenticationType. Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. \\\"':|()/]{0,255}$\""
                      },
                      "meta": {
                        "type": "object",
                        "nullable": false,
                        "required": [
                          "communicationMedium",
                          "communicationHint",
                          "communicationExpiry"
                        ],
                        "properties": {
                          "communicationMedium": {
                            "type": "string",
                            "enum": [
                              "MOBILE",
                              "EMAIL"
                            ],
                            "nullable": false,
                            "example": "MOBILE",
                            "description": "The communication medium. Allows alpha numeric characters and special characters like\"^[a-zA-Z0-9_\\\\-@,. \\\"':|()/]{0,255}$"
                          },
                          "communicationHint": {
                            "type": "string",
                            "nullable": true,
                            "example": "OTP",
                            "description": "The communication hint. Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. \\\"':|()/]{0,255}$"
                          },
                          "communicationExpiry": {
                            "type": "string",
                            "format": "iso-date-time",
                            "nullable": false,
                            "example": "2024-05-01T05:22:34.123Z",
                            "description": "The communication expiry date. Should be UTC date in ISO format.Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. \\\"':|()/]{0,255}$"
                          }
                        }
                      }
                    }
                  },
                  "error": {
                    "type": "object",
                    "nullable": true,
                    "required": [
                      "code",
                      "message"
                    ],
                    "properties": {
                      "code": {
                        "type": "string",
                        "nullable": false,
                        "example": "ABDM-1001",
                        "description": "The ABDM error code"
                      },
                      "message": {
                        "type": "string",
                        "nullable": false,
                        "example": "error message",
                        "description": "The appropriate error message"
                      }
                    }
                  },
                  "response": {
                    "type": "object",
                    "nullable": false,
                    "required": [
                      "requestId"
                    ],
                    "properties": {
                      "requestId": {
                        "type": "string",
                        "format": "uuid",
                        "nullable": false,
                        "minimum": 36,
                        "maximum": 50,
                        "example": "f29f0e59-8388-4698-9fe6-05db67aeac46",
                        "description": "The request id that was passed.Allows alpha numeric characters and special characters like \"^[0-9a-fA-F]{8}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{12}\""
                      }
                    },
                    "description": "The request id is from the link/init callback"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "object",
                      "required": [
                        "code",
                        "message"
                      ],
                      "properties": {
                        "code": {
                          "type": "integer",
                          "example": "ABDM-1107: "
                        },
                        "message": {
                          "type": "string",
                          "example": "Duplicate On init request"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string",
                      "example": "900901"
                    },
                    "message": {
                      "type": "string",
                      "example": "Invalid Credentials"
                    },
                    "description": {
                      "type": "string",
                      "example": "Invalid Credentials. Make sure you have provided the correct security credentials"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string",
                  "example": "Access Denied"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error -> It is just one example, for every api the path will be changed.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "timestamp",
                    "path",
                    "status",
                    "error",
                    "requestId"
                  ],
                  "properties": {
                    "timestamp": {
                      "type": "number",
                      "example": 1731557446506
                    },
                    "path": {
                      "type": "string",
                      "example": "/api/v3/hiecm/user-initiated-linking/patient/care-context/discover"
                    },
                    "status": {
                      "type": "integer",
                      "example": 500
                    },
                    "error": {
                      "type": "string",
                      "example": " Internal Server Error"
                    },
                    "requestId": {
                      "type": "string",
                      "example": "d20b575b-2659",
                      "description": "The request id that was passed.Allows alpha numeric characters and special characters like \"^[0-9a-fA-F]{8}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{12}\""
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/hiecm/user-initiated-linking/v3/link/care-context/confirm": {
      "post": {
        "tags": [
          "abdm-user-initiated-linking-phr"
        ],
        "operationId": "abdm-user-initiated-linking-phr 5",
        "summary": "This API will be invoked by the patient/user to confirm his/her health records.",
        "description": "This API endpoint is designed to be invoked by the patient or user to confirm their health records. By using this API, patients can validate and confirm the linkage of their health information to their ABHA (Ayushman Bharat Health Account) address. This confirmation process ensures that all relevant care contexts are accurately linked and verified, providing patients with control over their health data. The API supports a seamless and efficient health information exchange, enhancing the overall quality and continuity of care within the healthcare ecosystem.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "REQUEST-ID",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "18235d89-cb13-479d-ad71-7a57d5f669a8",
            "description": "Unique UUID for track the end to end request transaction"
          },
          {
            "name": "TIMESTAMP",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "2022-10-06T15:10:00.587Z",
            "description": "Actual time of the request was initiated, ISO 8601 represents date and time by starting with the year, followed by the month, the day, the hour, the minutes, seconds and milliseconds"
          },
          {
            "name": "X-CM-ID",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "sbx",
            "description": "Suffix of the consent manager to which the request was intended"
          },
          {
            "name": "X-HIU-ID",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "IN2810014366",
            "description": "Identifier of the health information user to which the request was intended"
          },
          {
            "name": "X-AUTH-TOKEN",
            "in": "header",
            "required": true,
            "description": "JWT Authentication token which was issued by ABDM after successful validation of username and password",
            "schema": {
              "type": "string",
              "format": "bearer",
              "minimum": 1,
              "maximum": 100,
              "example": "eyJhbGciOiJSUzUxMiJ9.eyJzdWIiOiJ2YXNhbnRoYWt1bWFyLmtlc2F2"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "token",
                  "linkRefNumber"
                ],
                "properties": {
                  "token": {
                    "type": "integer",
                    "nullable": false,
                    "example": 123456,
                    "description": "The token number. Must be 6 digit and contain only 0-9. Allows the numerical values like \"[\\\\d]*$\""
                  },
                  "linkRefNumber": {
                    "type": "string",
                    "format": "uuid",
                    "nullable": false,
                    "example": "d353b782-bfdf-4224-9f8d-da2cadc20c0d",
                    "description": "The link reference number from the /on-init call back . Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. \\\"':|()/]{0,255}$\""
                  }
                }
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Accepted"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "object",
                      "required": [
                        "code",
                        "message"
                      ],
                      "properties": {
                        "code": {
                          "type": "integer",
                          "example": "ABDM-1105: "
                        },
                        "message": {
                          "type": "string",
                          "example": "Duplicate Confirm request"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string",
                      "example": "900901"
                    },
                    "message": {
                      "type": "string",
                      "example": "Invalid Credentials"
                    },
                    "description": {
                      "type": "string",
                      "example": "Invalid Credentials. Make sure you have provided the correct security credentials"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string",
                  "example": "Access Denied"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error -> It is just one example, for every api the path will be changed.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "timestamp",
                    "path",
                    "status",
                    "error",
                    "requestId"
                  ],
                  "properties": {
                    "timestamp": {
                      "type": "number",
                      "example": 1731557446506
                    },
                    "path": {
                      "type": "string",
                      "example": "/api/v3/hiecm/user-initiated-linking/patient/care-context/discover"
                    },
                    "status": {
                      "type": "integer",
                      "example": 500
                    },
                    "error": {
                      "type": "string",
                      "example": " Internal Server Error"
                    },
                    "requestId": {
                      "type": "string",
                      "example": "d20b575b-2659",
                      "description": "The request id from discover call back .Allows alpha numeric characters and special characters like \"^[0-9a-fA-F]{8}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{12}\""
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "<callback_url>/api/v3/hiu/patient/care-context/on-confirm": {
      "post": {
        "tags": [
          "abdm-user-initiated-linking-phr"
        ],
        "operationId": "abdm-user-initiated-linking-phr 6",
        "summary": "This API endpoint is used by healthcare information users (HIUs) to receive confirmation of the linked care contexts for a patient. It provides detailed information about the patient’s care contexts, including any errors encountered during the confirmation process.",
        "description": "The on-confirm API endpoint allows HIUs to receive and process the confirmation of care context linking for a patient. When a request is made to this endpoint, it returns a detailed response containing the patient’s care contexts, transaction details, and any errors that occurred. This ensures that HIUs have the necessary information to manage patient care effectively and verify that the care contexts have been correctly linked. <p><strong>NOTE:</strong> In the request body, either 'patient' or 'error' must be included. <ol type = \"a\"> <li>In case of success scenario, patient object is mandatory and error object is optional</li> <br> <li>In case of failure scenario, error object is mandatory and patient object is optional</li> <br> <li>Response is mandatory in both scenarios</li> </ol>",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "REQUEST-ID",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "18235d89-cb13-479d-ad71-7a57d5f669a8",
            "description": "Unique UUID for track the end to end request transaction"
          },
          {
            "name": "TIMESTAMP",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "2022-10-06T15:10:00.587Z",
            "description": "Actual time of the request was initiated, ISO 8601 represents date and time by starting with the year, followed by the month, the day, the hour, the minutes, seconds and milliseconds"
          },
          {
            "name": "X-HIU-ID",
            "in": "header",
            "required": true,
            "schema": {
              "type": "string"
            },
            "example": "IN2810014366",
            "description": "Identifier of the health information user to which the request was intended"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "description": "In the request body, either 'patient' or 'error' must be included. <ol type = \"a\"> <li>In case of success scenario, patient object is mandatory and error object is optional</li> <br> <li>In case of failure scenario, error object is mandatory and patient object is optional</li> <br> <li>Response is mandatory in both scenarios</li> </ol>",
                "required": [
                  "patient",
                  "response"
                ],
                "properties": {
                  "response": {
                    "type": "object",
                    "nullable": false,
                    "required": [
                      "requestId"
                    ],
                    "properties": {
                      "requestId": {
                        "type": "string",
                        "format": "uuid",
                        "nullable": false,
                        "minimum": 36,
                        "maximum": 50,
                        "example": "f29f0e59-8388-4698-9fe6-05db67aeac46",
                        "description": "The request id that was passed.Allows alpha numeric characters and special characters like \"^[0-9a-fA-F]{8}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{12}\""
                      }
                    },
                    "description": "The request id is from the link/confirm callback"
                  },
                  "patient": {
                    "type": "object",
                    "nullable": false,
                    "required": [
                      "referenceNumber",
                      "display",
                      "careContexts",
                      "hiType",
                      "count"
                    ],
                    "properties": {
                      "referenceNumber": {
                        "type": "string",
                        "nullable": false,
                        "example": "abc123",
                        "description": "A patient identifier with which patient is registered in the facility/hospitalauthenticationType.Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. \\\"':|()/]{0,255}$"
                      },
                      "display": {
                        "type": "string",
                        "nullable": true,
                        "example": 12345,
                        "description": "Display text for patient reference.Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. \\\"':|()/]{0,255}$\""
                      },
                      "careContexts": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "required": [
                            "referenceNumber",
                            "display"
                          ],
                          "properties": {
                            "referenceNumber": {
                              "type": "string",
                              "nullable": false,
                              "example": "abc123",
                              "description": "An identifier of patient's care context created in HIP. A care context is a group of patient's health data (Not the actual health data).Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. \\\"':|()/]{0,255}$"
                            },
                            "display": {
                              "type": "string",
                              "nullable": true,
                              "example": 12345,
                              "description": "Display text for care context reference. Allows alpha numeric characters and special characters like \"^[a-zA-Z0-9_\\\\-@,. \\\"':|()/]{0,255}$\""
                            }
                          }
                        }
                      },
                      "hiType": {
                        "type": "string",
                        "nullable": false,
                        "enum": [
                          "Prescription",
                          "DiagnosticReport",
                          "OPConsultation",
                          "DischargeSummary",
                          "ImmunizationRecord",
                          "HealthDocumentRecord",
                          "WellnessRecord",
                          "Invoice"
                        ],
                        "example": "Prescription",
                        "description": "The health information type"
                      },
                      "count": {
                        "type": "integer",
                        "nullable": false,
                        "example": 1,
                        "description": "The count should match the number of care contexts in the payload"
                      }
                    }
                  },
                  "error": {
                    "type": "object",
                    "nullable": true,
                    "required": [
                      "code",
                      "message"
                    ],
                    "properties": {
                      "code": {
                        "type": "string",
                        "nullable": false,
                        "example": "ABDM-1001",
                        "description": "The ABDM error code"
                      },
                      "message": {
                        "type": "string",
                        "nullable": false,
                        "example": "error message",
                        "description": "The appropriate error message"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "object",
                      "required": [
                        "code",
                        "message"
                      ],
                      "properties": {
                        "code": {
                          "type": "integer",
                          "example": "ABDM-1108: "
                        },
                        "message": {
                          "type": "string",
                          "example": "Duplicate On confirm request"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "code": {
                      "type": "string",
                      "example": "900901"
                    },
                    "message": {
                      "type": "string",
                      "example": "Invalid Credentials"
                    },
                    "description": {
                      "type": "string",
                      "example": "Invalid Credentials. Make sure you have provided the correct security credentials"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "text/plain": {
                "schema": {
                  "type": "string",
                  "example": "Access Denied"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error -> It is just one example, for every api the path will be changed.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "timestamp",
                    "path",
                    "status",
                    "error",
                    "requestId"
                  ],
                  "properties": {
                    "timestamp": {
                      "type": "number",
                      "example": 1731557446506
                    },
                    "path": {
                      "type": "string",
                      "example": "/api/v3/hiecm/user-initiated-linking/patient/care-context/discover"
                    },
                    "status": {
                      "type": "integer",
                      "example": 500
                    },
                    "error": {
                      "type": "string",
                      "example": " Internal Server Error"
                    },
                    "requestId": {
                      "type": "string",
                      "example": "d20b575b-2659",
                      "description": "The request id that was passed.Allows alpha numeric characters and special characters like \"^[0-9a-fA-F]{8}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{4}\\\\b-[0-9a-fA-F]{12}\""
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}